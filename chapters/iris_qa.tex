\subsection{Iris Quality Assessment (IQA)}\label{sec:iqa}
\paragraph{Area Assessment}
The area assessment is based on the assessing how many pixels covering the iris
are considered to be noise free and are calculated:
\begin{align}
A = \Sigma_Y\Sigma_X( \forall_{x,y} I_{mask}\notin\{0\} ) 
\end{align}


\paragraph{Off-Angle}
Data from the OSIRISv4.1 generated parameter file, containing all coordinates of
the iris and pupil are, is parsed. This generates two convex hulls(CH) for the 
iris and pupil area. This method applies to both the iris and the pupil CH. Go 
through each set of coordinates in the CH and calculate the angle, rotate the
CH accordingly and calculate the area of the CH using a bounding box. Using 
the width and height of the rotated CH. When all angles has been tested, one has
found the angle where the CH covers the smallest area.
Then one calculates the angle of the bounding box, before calculating the alpha 
angle and Theta-angle(in degrees) using. 
\begin{align}
	A_a &= (1 - \frac{Len_{min}}{Len_{max}})\\
	\Theta &= tand( atan2d( \frac{\sin(A_{min} \cdot B_w)}{Len_{max}}, \frac{\cos(A_{min} \cdot B_W)}{Len_{min}} )
\end{align}


\paragraph{Focus}
The focus assessment first removes all unwanted pixels by "removing" the area
which is not the iris by using the mask generated by OSIRIS. The focus 
assessment then uses the high-pass filter to create a sharper image
\footnote{Code originates from University of Regina: \texttt{http://www.cs.uregina.ca/Links/class-info/425/Lab5/}} 
which is used to calculate the focus assessment.
\begin{align}
M = \Sigma_Y\Sigma_X( abs( F_{shift}( F_{trans}( I_{sharp} ) ) )^2 ) 
\end{align}


\paragraph{Motion Blur}
Motion blur is calculated on the noise-free area of the iris by "removing" the 
remainder of the image by applying the iris mask.  The focus assessment is
performed by rotating the image and iris-mask at fixed increments before running
it through a Fourier transform (Eq. 5). The output is run through the a focus
assessment returns the magnitude. After all rotations has been tested $A\in
[0,2,..,180]$, it calculates the magnitude of the motion blur with
$M_{max}-M_{min}$, and the angle of motion is where the min magnitude occurred.
\begin{align}
abs( F_{shift}( F_{trans}( I ) ) )^2 
\end{align}



\paragraph{Pupil Dilation}
The dilation of the pupil is assessed by the ration of what is considered the
area of the pupil, to what is considered the iris area.
\begin{align}
A_p = \frac{Pupil_{area}}{Iris_{area}} 
\end{align}


